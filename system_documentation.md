# ğŸ“Š è¨‚é–±ç®¡ç†å·¥å…· (Subscription Manager) ç³»çµ±æ–‡ä»¶

é€™æ˜¯ä¸€ä»½é‡å° **è¨‚é–±èˆ‡å›ºå®šæ”¯å‡ºç®¡ç†å·¥å…·** çš„ç³»çµ±åˆ†æèˆ‡é–‹ç™¼æ–‡ä»¶ã€‚æœ¬ç³»çµ±ç‚ºç´”å‰ç«¯æ‡‰ç”¨ç¨‹å¼ï¼Œæ—¨åœ¨å”åŠ©ç”¨æˆ¶è¼•é¬†ç®¡ç†é€±æœŸæ€§æ”¯å‡ºã€‚

---

## 1. ç³»çµ±æ¶æ§‹åœ– (System Architecture)

```mermaid
graph TD
    User((ä½¿ç”¨è€…)) -->|æ“ä½œä»‹é¢| HTML[index.html]
    HTML -->|æ¨£å¼æ¸²æŸ“| CSS[style.css]
    HTML -->|äº‹ä»¶èˆ‡é‚è¼¯| JS[script.js]
    
    subgraph Browser [ç€è¦½å™¨ç’°å¢ƒ]
        JS <-->|è®€å¯«è³‡æ–™| LS[(LocalStorage)]
        JS -->|ç¹ªè£½çµ±è¨ˆåœ–| ChartJS[Chart.js Library]
    end

    style User fill:#f9f,stroke:#333,stroke-width:2px
    style LS fill:#eee,stroke:#333,stroke-dasharray: 5 5
```

---

## 2. æŠ€è¡“å †ç–Š (Tech Stack)

| é¡åˆ¥ | æŠ€è¡“/å·¥å…· | èªªæ˜ |
| :--- | :--- | :--- |
| **æ ¸å¿ƒèªè¨€** | HTML5, CSS3, JavaScript (ES6+) | ç„¡éœ€ä¾è³´å¤§å‹æ¡†æ¶ (React/Vue/Angular) |
| **æ¨£å¼è¨­è¨ˆ** | Native CSS (Variables) | é€é CSS è®Šæ•¸å¯¦ç¾æ·±è‰²/æ·ºè‰²æ¨¡å¼åˆ‡æ› |
| **è³‡æ–™å„²å­˜** | Web Storage API (LocalStorage) | è³‡æ–™ä¿ç•™æ–¼ç”¨æˆ¶ç«¯ï¼Œç„¡å¾Œç«¯ä¼ºæœå™¨ä¾è³´ |
| **åœ–è¡¨ç¹ªè£½** | [Chart.js](https://www.chartjs.org/) | ç¹ªè£½å¹´åº¦æ”¯å‡ºä½”æ¯”åœ“é¤…åœ– (Pie Chart) |
| **å­—é«”èˆ‡åœ–ç¤º** | [Google Fonts](https://fonts.google.com/), [Font Awesome](https://fontawesome.com/) | æä¾› Noto Sans TC å­—é«”èˆ‡ SVG åœ–ç¤º |

---

## 3. åŠŸèƒ½æ¨¡çµ„è©³è§£ (Features)

### 3.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½æ¨¡çµ„ | è©³ç´°åŠŸèƒ½æè¿° | å‚™è¨» |
| :--- | :--- | :--- |
| **ğŸ“ è¨‚é–±é …ç›®** | æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ (CRUD)ã€å¤šå¹£åˆ¥æ”¯æ´ã€è‡ªè¨‚ç¹³è²»é€±æœŸ | æ”¯æ´ TWD, USD, JPY ç­‰ï¼Œè‡ªå‹•æ›ç®—åŒ¯ç‡ |
| **ğŸ·ï¸ åˆ†é¡ç®¡ç†** | è‡ªè¨‚åˆ†é¡åç¨±ã€é¡è‰²æ¨™ç±¤ã€åˆ†é¡æ‹–æ›³æ’åº | é è¨­åŒ…å«ï¼šå¨›æ¨‚ã€å·¥ä½œã€ç”Ÿæ´»ã€ä¿éšª |
| **ğŸ“Š è²¡å‹™å„€è¡¨æ¿** | æ¯æœˆå›ºå®šæ”¯å‡ºçµ±è¨ˆã€å¹´åº¦ç¸½é ä¼°ã€å‰©é¤˜é ç®—è¨ˆç®— | éœ€è¨­å®šã€Œé ä¼°æœˆæ”¶å…¥ã€ä»¥è¨ˆç®—å‰©é¤˜é ç®— |
| **ğŸ“… ä»˜æ¬¾æ’ç¨‹** | ä»¥æœˆä»½ç‚ºå–®ä½çš„æ™‚é–“è»¸ (Timeline) æª¢è¦– | è‡ªå‹•è¨ˆç®—é€±æœŸæ€§ä»˜æ¬¾æ—¥ |
| **ğŸ’¾ è³‡æ–™å‚™ä»½** | åŒ¯å‡º (JSON)ã€åŒ¯å…¥é‚„åŸ | æ”¯æ´è·¨è£ç½®è½‰ç§»è³‡æ–™ |

### 3.2 ä½¿ç”¨è€…é«”é©— (UX)
*   **æ·±è‰²æ¨¡å¼ (Dark Mode)**: æ”¯æ´æ‰‹å‹•åˆ‡æ›èˆ‡ç³»çµ±è‡ªå‹•åµæ¸¬ã€‚
*   **æ‹–æ”¾æ’åº (Drag & Drop)**: ç›´è¦ºçš„é …ç›®èˆ‡åˆ†é¡é‡æ–°æ’åºåŠŸèƒ½ã€‚
*   **RWD éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…æ¡Œé¢èˆ‡è¡Œå‹•è£ç½®è¢å¹•ã€‚

---

## 4. è³‡æ–™æµæµç¨‹åœ– (Data Flow)

ä»¥ä¸‹å±•ç¤º **ã€Œæ–°å¢è¨‚é–±é …ç›®ã€** æ™‚çš„è³‡æ–™è™•ç†æµç¨‹ï¼š

```mermaid
sequenceDiagram
    participant User as ğŸ‘¤ ä½¿ç”¨è€…
    participant UI as ğŸ–¥ï¸ ä»‹é¢ (Modal)
    participant JS as âš™ï¸ é‚è¼¯æ ¸å¿ƒ
    participant LS as ğŸ’¾ LocalStorage

    User->>UI: å¡«å¯«è¨‚é–±è³‡è¨Š (åç¨±, é‡‘é¡, é€±æœŸ...)
    User->>UI: é»æ“Šã€Œå„²å­˜ã€æŒ‰éˆ•
    UI->>JS: è§¸ç™¼ handleFormSubmit()
    JS->>JS: calculateTWD() è¨ˆç®—å°å¹£é‡‘é¡
    JS->>JS: ç”Ÿæˆå”¯ä¸€ ID (UUID)
    JS->>LS: æ›´æ–° items é™£åˆ—ä¸¦å„²å­˜ (JSON.stringify)
    LS-->>JS: å„²å­˜å®Œæˆ
    JS->>UI: åŸ·è¡Œ render() æ›´æ–°åˆ—è¡¨èˆ‡åœ–è¡¨
    UI-->>User: é¡¯ç¤ºæ–°é …ç›®èˆ‡æ›´æ–°å¾Œçš„çµ±è¨ˆ
```

---

## 5. è³‡æ–™çµæ§‹å®šç¾© (Data Schema)

ç³»çµ±ä¸»è¦ä½¿ç”¨ `localStorage` å„²å­˜å…©å¤§æ ¸å¿ƒè³‡æ–™é™£åˆ—ï¼š

### 5.1 `items` (è¨‚é–±é …ç›®)
```json
[
  {
    "id": "c7b3d8e0-5f1a-4b9e-9c3d-1a2b3c4d5e6f",
    "name": "Netflix",
    "categoryId": "cat_ent",
    "currency": "TWD",
    "originalAmount": 390,
    "exchangeRate": 1,
    "amount": 390,
    "cycle": "monthly",
    "startDate": "2023-01-01",
    "endDate": null,
    "note": "å®¶åº­æ–¹æ¡ˆ",
    "createdAt": "2023-01-01T00:00:00.000Z"
  }
]
```

### 5.2 `categories` (åˆ†é¡æ¨™ç±¤)
```json
[
  {
    "id": "cat_ent",
    "name": "å¨›æ¨‚",
    "color": "#8b5cf6"
  },
  {
    "id": "cat_work",
    "name": "å·¥ä½œ",
    "color": "#3b82f6"
  }
]
```

---

## 6. å°ˆæ¡ˆæª”æ¡ˆçµæ§‹ (File Structure)

```text
Project Root
â”œâ”€â”€ index.html       # æ‡‰ç”¨ç¨‹å¼å…¥å£ (UI éª¨æ¶)
â”œâ”€â”€ style.css        # æ¨£å¼å®šç¾© (åŒ…å« Themes, Flex/Grid Layout)
â””â”€â”€ script.js        # æ ¸å¿ƒé‚è¼¯ (Logic, Events, Storage)
```

---

## 7. æœªä¾†æ“´å……å»ºè­° (Possible Enhancements)
*   **é›²ç«¯åŒæ­¥**: æ•´åˆ Google Drive æˆ– Firebase å¯¦ç¾å¤šè£ç½®å³æ™‚åŒæ­¥ã€‚
*   **é€šçŸ¥æé†’**: æ•´åˆç€è¦½å™¨ Notification APIï¼Œåœ¨ç¹³è²»æ—¥å‰ç™¼é€é€šçŸ¥ã€‚
*   **çµ±è¨ˆå ±è¡¨**: å¢åŠ ã€Œæœˆåº¦æ”¯å‡ºè¶¨å‹¢åœ–ã€ä»¥è§€å¯Ÿæ”¯å‡ºè®ŠåŒ–ã€‚
